# ADC2021自動運営システムの使い方


## 詳細なマニュアル

- [自動運営システムをウェブブラウザから使う(ウェブアプリ client-app)](client-app/README.md)
- [自動運営システムの詳細マニュアル](client/README.md)



## ADC自動運営システム

### 自動運営システムって何ですか？

- 参加者が自作した問題データを収集します。
- 問題データを配布します。
- 回答データを収集します。
- 回答を採点します。
- コンテストの進捗状況をリアルタイムで表示します。


### アルゴリズムデザインコンテストの競技開始までにやってほしいこと

参加者のみなさんが開発したソフトウェア（ソルバー）と、自動運営システムとが、正常に連携して動作するかどうか、__事前に動作確認を行います__。

これは、インターネット上で提供されているクラウドサービスを利用して行います。



### 動作確認作業（事前）の流れ 

1. DAシンポジウム2021幹事より、アカウント情報をメールで送付します。
2. 自動運営システムのマニュアル([ウェブアプリ](client-app/README.md)、[コマンドadccli](client/README.md))を見ながら、動作確認してください。
3. 自動運営システムに関して、不具合、不明点、提案などありましたら、[Issues](https://github.com/dasadc/adc2019/issues "Issues")に書き込むか(※GitHubのアカウントが必要)、幹事へメールでお伝え下さい。
4. 自動運営システムの修正・改良が行われたときは、その結果に問題ないかの確認に協力をお願いします。

### 自作問題データの扱い

自作問題データのアップロードもできますが、動作確認中にアップロードしてしまうと、他のチームに、問題がばれてしまいます。本番までの秘密としておいてください。

- データ形式が正しいかをチェックするだけの（データを保存しない）専用機能があります
  - ウェブアプリでは、"File Checker"メニューで確認できます。
  - [server/adc2019.py](server/adc2019.py) を使って確認することもできます（[ドキュメント](server/adc2019.md)）。



### 回答方法

~~コンテスト本番では、回答は1問につき1回しか許されませんが、~~
~~動作確認期間中は、何度でも、回答できるようにしておきます。~~

ADC2020までは、コンテスト本番では、回答は1問につき1回しか許されませんでしたが、ADC2021から、何回でも回答できるようになります。


## 自動運営システムを使った、コンテストの流れ （概要）（仮スケジュール）

以下は、現時点でのプランであり、詳細決定まで、しばらくお待ちください。

|日時            |イベント                            |roundカウンタ|
|:---------------|:-----------------------------------|------------|
|2021-08-24 13:00| 自動運営システムのテスト運用開始。参加者各自で、動作確認テストなどを行ってください。テスト中のため、一時的にサービスを停止する可能性があります。| 999 |
|2021-08-25 15:00| 自動運営システムの正式運用開始。参加者各自で、動作確認テストなどを行ってください。| 999 |
|2021-08-30 09:00| アルゴリズムデザインコンテスト2021 事前競技スタート。「長時間用の問題」に挑戦します。| 1 |
|2021-09-02 09:00| アルゴリズムデザインコンテスト2021当日。事前競技を終了します。| 1 |
|2021-09-02 09:00| アルゴリズムデザインコンテスト2021当日。準備中。| 2 |
|2021-09-02 12:40| アルゴリズムデザインコンテスト2021当日。自作の問題データのアップロードを開始してください。| 2 |
|2021-09-02 13:00| アルゴリズムデザインコンテスト2021当日。セッション開始。説明など行います。| 2 |
|2021-09-02 13:15| アルゴリズムデザインコンテスト2021当日。自作の問題データアップロード終了。| 2 |
|2021-09-02 13:20| アルゴリズムデザインコンテスト2021当日。本番競技の開始。「短時間用問題」と「参加者自作問題」に挑戦します。|
|2021-09-02 14:30| アルゴリズムデザインコンテスト2021当日。セッション終了 | 2 |
|2021-09-02 18:30| アルゴリズムデザインコンテスト2021当日。 成績発表と講評 | NA |
|2021-09-02 19:00| アルゴリズムデザインコンテスト2021当日。 振り返り| NA |


### コンテスト「事前競技」 （2〜3日かけて問題を解いてよい）

1. 参加者がログインします。
2. 問題公開時刻になると、事前競技のスタートです。
   - 問題データがダウンロード可能になりますので、ダウンロードしてください
   - 回答データをアップロードしてください
3. 事前競技の終了時刻になると、回答データのアップロードが締め切られます。


### コンテスト当日の「本番競技」（競技時間は40分程度）

1. 参加者がログインします。
2. 参加者は、自作の問題データをアップロードします。
   - アップロードできる問題数は、1チームあたり**最大3問**とします。
   - アップロードした問題データを、削除したり、アップロードしなおすこともできます。
3. ある時刻がきたら、自作問題のアップロードが締め切られます。
4. 運営側の操作によって、出題問題が確定します。
5. 定刻になったら、本番競技のスタートです。
    1. 出題問題の番号一覧リストをダウンロードします。
    2. 出題問題を、1つ、ダウンロードします。
       - 1度に1問だけダウンロードできます。繰り返して全問ダウンロードしてもかまいません。
    3. ソルバーで問題を解きます。
    4. ~~(未定) 解いている最中に、3分に1回程度の頻度で、ステータス報告を行います。~~
       - ~~(未定) これは、参加者側のシステムが正常に動いているかを、自動運営システムから判断できるようにするためです。~~
    5. 解が得られたら、回答データをアップロードします。
    6. ~~(未定) つづけて、回答の補足情報（計算時間、使用メモリ量など）をアップロードします。~~
    7. 2からを、繰り返します。
    8. もし、なかなか解が得られない場合は、別の問題に取り組んでもかまいません。
6. 本番競技の終了時刻になると、回答データのアップロードが締め切られます。




## アルゴリズムデザインコンテスト当日の流れ

基本的には、事前の動作確認で行ったことと同じです。

アカウントは本番でも同じものを使用します。

~~コンテスト本番では、自動運営システムにアクセスするときのURLが変わりますので、間違えないよう、ご注意ください。~~


## 本番前の、ダミーシステムでの自動運営システムの動作モード

インターネット上で動作している[自動運営システム](https://das-adc.appspot.com/)は、事前協議スタート前の、テスト期間中は、1時間の周期で、動作モードが自動遷移していきます。

現在時刻の「分」の値によって、ユーザーができることが変化していきます。本番のつもりで、動作を確認してみてください。


|状態   |時:分:秒-時:分:秒  |説明       |
|:-------|:-----------------|:---------|
|`[init]`|                  |(初期状態) |
|`[im0]` |HH:00:00-HH:02:59 | (準備中)  |
|`[Qup]` |HH:03:00-HH:14:59 | 問題アップロード可能／出題リストを削除;回答データを削除 |
|`[im1]` |HH:15:00-HH:19:59 | 問題アップロード締め切り／出題リストを作成 |
|`[Aup]` |HH:20:00-HH:54:59 | 回答アップロード可能 |
|`[im2]` |HH:55:00-HH:59:59 | 回答アップロード締め切り |


今のところ、ユーザーがアップロードした問題は、自動的に削除されることはありません。

